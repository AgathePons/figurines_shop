<%- include('partials/header') %>

  <!-- Page Content -->
  <div class="container container-main">

    <div class="row">

      <%- include('partials/leftMenu') %>

      <article itemscope itemtype="http://schema.org/Product" class="col-lg-9">

        <div class="row">
          <header class="col-lg-6">
            <img itemprop="image" class="" src="/images/<%= figurine.name.toLowerCase() %>.png" alt="Figurine de <%= figurine.name %>">
          </header>

          <div class="col-lg-6">
            <div class="card">
              <div class="card-body">
                  <div class="h3 card-title">
                    <h2 itemprop="name"><%= figurine.name %></h2>
                    <h3 itemprop="category" class="badge badge-pill badge-<%= figurine.category.toLowerCase() %>"><%= figurine.category %></h3>
                  </div>
                  <p class="card-text">
                    Taille réelle : 
                    <span itemprop="height" itemscope itemtype="https://schema.org/QuantitativeValue">
                      <span itemprop="value"><%= figurine.size %></span>
                      <span itemprop="unitCode" content="CMT">cm</span>
                    </span>
                  </p>
                  <p itemprop="description" class="card-text"><%= figurine.description %></p>
                  <span itemprop="aggregateRating" itemscope itemtype="http://schema.org/AggregateRating" class="small text-muted">
                    <meta itemprop="ratingCount" content="<%# figurine.nb_reviews %>">
                    <meta itemprop="worstRating" content="1">
                    <meta itemprop="bestRating" content="5">
                    <meta itemprop="ratingValue" content="<%= figurine.note %>">
                    3
                    Note moyenne : &#9733; &#9733; &#9733; &#9733; &#9734;
                    <br>
                    <a href="#" data-toggle="modal" data-target="#reviewsModal">Détails des avis</a>
                  </span>
                  <div itemprop="offers" itemscope itemtype="http://schema.org/Offer" class="h5">
                    <span itemprop="priceCurrency" content="USD">$</span>
                    <span itemprop="price"><%= figurine.price %></span>
                    <meta itemprop="availability" content="http://schema.org/InStock">
                  </div>
                  <p class="card-text">
                    <a href="/bookmarks/add/<%= figurine.id %>" class="link-add-bookmarks">+ Ajouter aux favoris</a>
                  </p>
              </div>
            </div>
          </div>
        </div>
        <!-- /.row -->

      </article>
      <!-- /.col-lg-9 -->

    </div>
    <!-- /.row -->

  </div>
  <!-- /.container -->

  <!-- Modale des avis -->
  <div class="modal fade" id="reviewsModal" tabindex="-1" role="dialog" aria-labelledby="reviewsModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="reviewsModalLabel">Avis des internautes</h3>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <% for (const review of reviews) { %>
          <section>
            <h5><%= review.title %> &nbsp; 
              <small class="text-muted">
                &#9733; &#9733; &#9733; &#9733; &#9734;
              </small></h5>
            <p class="review-author">par <%= review.author %></p>
            <p><%= review.message %></p>
          </section>
          <hr>
          <% } %>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
        </div>
      </div>
    </div>
  </div>

  <%- include('partials/footer') %>

